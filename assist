local userInputService = game:service('UserInputService')
local ScriptOn = false
local VirtualUser=game:service'VirtualUser'
local VIM = game:GetService("VirtualInputManager")
local camera = game.workspace.Camera
local player = game:GetService("Players").LocalPlayer.Character
local players = game:GetService("Players").LocalPlayer
local mouse = players:GetMouse()
local playerz = game:GetService("Players")
local teams = game:GetService("Teams")
game:service'Players'.LocalPlayer.Idled:connect(function()
VirtualUser:CaptureController()
VirtualUser:ClickButton2(Vector2.new())
end)
mouse.Button2Down:Connect(function()
    if ScriptOn == false then
        ScriptOn = true
    end
end)
mouse.Button2Up:Connect(function()
    if ScriptOn == true then
        ScriptOn = false
    end
end)
function FoundTarget()
    local Target = {}
    local HRP = game.Players.LocalPlayer.Character.HumanoidRootPart
    for _,v in pairs(game.Workspace.Objects.Characters:GetChildren()) do
        if v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
            if v:FindFirstChildOfClass("Model") and v:FindFirstChildOfClass("Model"):FindFirstChild("Nape") then
                --is titan shifter
            elseif playerz:FindFirstChild(v.Name).Team ~= players.Team then
                table.insert(Target,{v.HumanoidRootPart,(HRP.Position-v.HumanoidRootPart.Position).magnitude,v})
            end
        end
    end
    table.sort(Target,
        function(a,b)
        return a[2]<b[2]
    end)
    return Target
end
function Aim()
    local TargetInfo = FoundTarget()
    local TargetPosition = camera:WorldToScreenPoint(TargetInfo[1][3].Head.Position)
    camera.CFrame = CFrame.lookAt(camera.CFrame.Position, TargetInfo[1][3].Head.Position)
    VIM:SendMouseMoveEvent(TargetPosition.X,TargetPosition.Y+30,game)
end
while wait() do
    if ScriptOn == true then
        pcall(Aim)
    end
end
